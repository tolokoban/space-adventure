/**********************************************************************
 require( 'require' )
 -----------------------------------------------------------------------
 @example

 var Path = require("node://path");  // Only in NodeJS/NW.js environment.
 var Button = require("tfw.button");

 **********************************************************************/

window.require = function() {
    var modules = {};
    var definitions = {};
    var nodejs_require = typeof window.require === 'function' ? window.require : null;

    var f = function(id, body) {
        if( id.substr( 0, 7 ) == 'node://' ) {
            // Calling for a NodeJS module.
            if( !nodejs_require ) {
                throw Error( "[require] NodeJS is not available to load module `" + id + "`!" );
            }
            return nodejs_require( id.substr( 7 ) );
        }

        if( typeof body === 'function' ) {
            definitions[id] = body;
            return;
        }
        var mod;
        body = definitions[id];
        if (typeof body === 'undefined') {
            var err = new Error("Required module is missing: " + id);   
            console.error(err.stack);
            throw err;
        }
        mod = modules[id];
        if (typeof mod === 'undefined') {
            mod = {exports: {}};
            var exports = mod.exports;
            body(f, mod, exports);
            modules[id] = mod.exports;
            mod = mod.exports;
            //console.log("Module initialized: " + id);
        }
        return mod;
    };
    return f;
}();
function addListener(e,l) {
    if (window.addEventListener) {
        window.addEventListener(e,l,false);
    } else {
        window.attachEvent('on' + e, l);
    }
};

addListener(
    'DOMContentLoaded',
    function() {
        document.body.parentNode.$data = {};
        // Attach controllers.
        APP = require('app');
setTimeout(function (){if(typeof APP.start==='function')APP.start()});

    }
);
require("$",function(n,r,a){a.config={name:'"space-adventure"',description:'"WebGL clone of Cavalcadeur\'s original game."',author:'"tolokoban"',version:'"0.0.9"',major:"0",minor:"0",revision:"9",date:"2017-02-06T14:12:43.000Z",consts:{}};var o=null;a.lang=function(n){return void 0===n&&(window.localStorage&&(n=window.localStorage.getItem("Language")),n||(n=window.navigator.language,n||(n=window.navigator.browserLanguage,n||(n="fr"))),n=n.substr(0,2).toLowerCase()),o=n,window.localStorage&&window.localStorage.setItem("Language",n),n},a.intl=function(n,r){var o,e,t,i,g,l,u,s=n[a.lang()],c=r[0];for(u in n)break;if(!u)return c;if(!s&&(s=n[u],!s))return c;if(o=s[c],o||(s=n[u],o=s[c]),!o)return c;if(r.length>1){for(e="",g=0,t=0;t<o.length;t++)i=o.charAt(t),"$"===i?(e+=o.substring(g,t),t++,l=o.charCodeAt(t)-48,e+=l<0||l>=r.length?"$"+o.charAt(t):r[l],g=t+1):"\\"===i&&(e+=o.substring(g,t),t++,e+=o.charAt(t),g=t+1);e+=o.substr(g),o=e}return o}});
//# sourceMappingURL=$.js.map
require("app",function(t,e,n){var r=function(){function e(){return r(n,arguments)}var n={en:{},fr:{}},r=t("$").intl;return e.all=n,e}(),i=t("tfw.webgl"),o=t("wdg.modal").alert,a=t("play"),u=document.getElementById("canvas"),d=new i.Renderer(u),s=a.init(d.gl,u);s.then(function(){a.reset(),d.start(function(t){var e=window.innerWidth,n=window.innerHeight;u.setAttribute("width",e),u.setAttribute("height",n),d.gl.viewport(0,0,e,n),a.draw(t)})}),o("<html>Quick slides up and down to move your spaceship.<br/>Or use the keyboard's arrow keys.",function(){window.setTimeout(a.start.bind(a),300)}),e.exports._=r});
//# sourceMappingURL=app.js.map
require("play",function(e,r,t){function a(){n.disable(n.DEPTH_TEST),n.enable(n.BLEND),n.clearColor(28/255,34/255,67/255,1),n.clear(n.COLOR_BUFFER_BIT)}var n,E,T,o=function(){function r(){return a(t,arguments)}var t={en:{},fr:{}},a=e("$").intl;return r.all=t,r}(),i=e("global"),_=e("hero"),R=e("moon"),u=e("smoke"),m=(e("tfw.webgl"),e("image-loader")),c=(e("event-handler"),(new Float32Array).BYTES_PER_ELEMENT,Math.sqrt(2),0);t.init=function(e,r){return c=0,n=e,E=r,new Promise(function(e,r){m({hero:"hero.png",moon:"moon.png",earth:"earth.png"}).then(function(r){var t=document.createElement("canvas");t.setAttribute("width",256),t.setAttribute("height",256);var a=t.getContext("2d");a.drawImage(r.hero,0,0,128,128),a.drawImage(R.makeTerrain(r.moon),128,0,128,128),a.drawImage(r.earth,0,128,128,128),T=t,e()})})},t.start=function(){_.start()},t.reset=function(){c=0,_.reset(n),R.reset(n),u.reset(n);var e=n.createTexture();n.bindTexture(n.TEXTURE_2D,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,e),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,T)},t.draw=function(e){if(n.blendFunc(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA),e*=.001,0==c)return void(c=e);c=e,_.move(e),R.move(e),i.cameraX=_.x(),i.cameraY=.5*i.COL_H,a(),R.draw(e),_.draw(e),u.draw(e)},r.exports._=o});
//# sourceMappingURL=play.js.map
require("event-handler",function(n,t,e){var o=function(){function t(){return o(e,arguments)}var e={en:{},fr:{}},o=n("$").intl;return t.all=e,t}(),a=function(){},i=!1;t.exports={on:function(n){a=n},start:function(){i=!0},stop:function(){i=!1}},document.addEventListener("keyup",function(n){i&&(38==n.keyCode?a(1):40==n.keyCode&&a(-1))});var r,c,u;document.addEventListener("touchstart",function(n){var t=n.changedTouches[0];r=t.clientX,c=t.clientY,u=Date.now()}),document.addEventListener("touchend",function(n){var t=n.changedTouches[0],e=t.clientX-r,o=t.clientY-c;if(!(Math.abs(e)>Math.abs(o))){var i=Math.abs(o)/((Date.now()-u)*window.innerHeight);return i*=1e3,i=Math.min(2,Math.max(1,i)),o<0?a(+i):o>0?a(-i):void 0}}),t.exports._=o});
//# sourceMappingURL=event-handler.js.map
require("image-loader",function(n,r,e){var o=function(){function r(){return o(e,arguments)}var e={en:{},fr:{}},o=n("$").intl;return r.all=e,r}();n("polyfill.promise"),r.exports=function(n){return new Promise(function(r,e){var o,i,t,s,l,u={},a=0,c=function(){a--,0==a&&r(u)},f=function(n){console.error("Unable to load image "+this.src+"! ",n),u[this.$id]=n,c()};for(o in n)i="css/app/"+n[o],t=i.substr(0,i.length-4),s=i.substr(i.length-4),a++,l=new Image,l.$id=o,u[o]=l,l.onload=c,l.onerror=f,l.src=i,l.srcset=t+".mini"+s+" 640w, "+i})},r.exports._=o});
//# sourceMappingURL=image-loader.js.map
require("polyfill.promise",function(t,n,e){var r=function(){function n(){return r(e,arguments)}var e={en:{},fr:{}},r=t("$").intl;return n.all=e,n}();window.Promise||function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function n(t){return"function"==typeof t}function e(t){return"object"==typeof t&&null!==t}function r(){}function o(){return function(){process.nextTick(c)}}function i(){var t=0,n=new q(c),e=document.createTextNode("");return n.observe(e,{characterData:!0}),function(){e.data=t=++t%2}}function s(){var t=new MessageChannel;return t.port1.onmessage=c,function(){t.port2.postMessage(0)}}function u(){return function(){setTimeout(c,1)}}function c(){for(var t=0;t<D;t+=2){var n=K[t],e=K[t+1];n(e),K[t]=void 0,K[t+1]=void 0}D=0}function a(){}function f(){return new TypeError("You cannot resolve a promise with itself")}function l(){return new TypeError("A promises callback cannot return that same promise.")}function h(t){try{return t.then}catch(t){return $.error=t,$}}function p(t,n,e,r){try{t.call(n,e,r)}catch(t){return t}}function _(t,n,e){Y(function(t){var r=!1,o=p(e,n,function(e){r||(r=!0,n!==e?y(t,e):w(t,e))},function(n){r||(r=!0,b(t,n))},"Settle: "+(t._label||" unknown promise"));!r&&o&&(r=!0,b(t,o))},t)}function v(t,n){n._state===U?w(t,n._result):t._state===W?b(t,n._result):g(n,void 0,function(n){y(t,n)},function(n){b(t,n)})}function d(t,e){if(e.constructor===t.constructor)v(t,e);else{var r=h(e);r===$?b(t,$.error):void 0===r?w(t,e):n(r)?_(t,e,r):w(t,e)}}function y(n,e){n===e?b(n,f()):t(e)?d(n,e):w(n,e)}function m(t){t._onerror&&t._onerror(t._result),A(t)}function w(t,n){t._state===N&&(t._result=n,t._state=U,0===t._subscribers.length||Y(A,t))}function b(t,n){t._state===N&&(t._state=W,t._result=n,Y(m,t))}function g(t,n,e,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=n,o[i+U]=e,o[i+W]=r,0===i&&t._state&&Y(A,t)}function A(t){var n=t._subscribers,e=t._state;if(0!==n.length){for(var r,o,i=t._result,s=0;s<n.length;s+=3)r=n[s],o=n[s+e],r?P(e,r,o,i):o(i);t._subscribers.length=0}}function j(){this.error=null}function E(t,n){try{return t(n)}catch(t){return z.error=t,z}}function P(t,e,r,o){var i,s,u,c,a=n(r);if(a){if(i=E(r,o),i===z?(c=!0,s=i.error,i=null):u=!0,e===i)return void b(e,l())}else i=o,u=!0;e._state!==N||(a&&u?y(e,i):c?b(e,s):t===U?w(e,i):t===W&&b(e,i))}function T(t,n){try{n(function(n){y(t,n)},function(n){b(t,n)})}catch(n){b(t,n)}}function S(t,n,e,r){this._instanceConstructor=t,this.promise=new t(a,r),this._abortOnReject=e,this._validateInput(n)?(this._input=n,this.length=n.length,this._remaining=n.length,this._init(),0===this.length?w(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&w(this.promise,this._result))):b(this.promise,this._validationError())}function k(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function M(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function O(t,e){this._id=Q++,this._label=e,this._state=void 0,this._result=void 0,this._subscribers=[],a!==t&&(n(t)||k(),this instanceof O||M(),T(this,t))}var C;C=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var R,x=C,D=(Date.now||function(){return(new Date).getTime()},Object.create||function(t){if(arguments.length>1)throw new Error("Second argument not supported");if("object"!=typeof t)throw new TypeError("Argument must be an object");return r.prototype=t,new r},0),Y=function(t,n){K[D]=t,K[D+1]=n,D+=2,2===D&&R()},I="undefined"!=typeof window?window:{},q=I.MutationObserver||I.WebKitMutationObserver,F="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,K=new Array(1e3);R="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?o():q?i():F?s():u();var N=void 0,U=1,W=2,$=new j,z=new j;S.prototype._validateInput=function(t){return x(t)},S.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},S.prototype._init=function(){this._result=new Array(this.length)};var B=S;S.prototype._enumerate=function(){for(var t=this.length,n=this.promise,e=this._input,r=0;n._state===N&&r<t;r++)this._eachEntry(e[r],r)},S.prototype._eachEntry=function(t,n){var r=this._instanceConstructor;e(t)?t.constructor===r&&t._state!==N?(t._onerror=null,this._settledAt(t._state,n,t._result)):this._willSettleAt(r.resolve(t),n):(this._remaining--,this._result[n]=this._makeResult(U,n,t))},S.prototype._settledAt=function(t,n,e){var r=this.promise;r._state===N&&(this._remaining--,this._abortOnReject&&t===W?b(r,e):this._result[n]=this._makeResult(t,n,e)),0===this._remaining&&w(r,this._result)},S.prototype._makeResult=function(t,n,e){return e},S.prototype._willSettleAt=function(t,n){var e=this;g(t,void 0,function(t){e._settledAt(U,n,t)},function(t){e._settledAt(W,n,t)})};var G=function(t,n){return new B(this,t,!0,n).promise},H=function(t,n){function e(t){y(i,t)}function r(t){b(i,t)}var o=this,i=new o(a,n);if(!x(t))return b(i,new TypeError("You must pass an array to race.")),i;for(var s=t.length,u=0;i._state===N&&u<s;u++)g(o.resolve(t[u]),void 0,e,r);return i},J=function(t,n){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var r=new e(a,n);return y(r,t),r},L=function(t,n){var e=this,r=new e(a,n);return b(r,t),r},Q=0,V=O;O.all=G,O.race=H,O.resolve=J,O.reject=L,O.prototype={constructor:O,then:function(t,n,e){var r=this,o=r._state;if(o===U&&!t||o===W&&!n)return this;r._onerror=null;var i=new this.constructor(a,e),s=r._result;if(o){var u=arguments[o-1];Y(function(){P(o,i,u,s)})}else g(r,i,t,n);return i},catch:function(t,n){return this.then(null,t,n)}};var X=function(){var t;t="undefined"!=typeof global?global:"undefined"!=typeof window&&window.document?window:self;var e="Promise"in t&&"resolve"in t.Promise&&"reject"in t.Promise&&"all"in t.Promise&&"race"in t.Promise&&function(){var e;return new t.Promise(function(t){e=t}),n(e)}();e||(t.Promise=V)};X()}.call(this),n.exports._=r});
//# sourceMappingURL=polyfill.promise.js.map
require("tfw.webgl",function(e,t,r){function n(e,t,r){if("string"===(t.vert,!1))throw Error("[tfw.webgl.Program] Missing attribute `vert` in argument `codes`!");if("string"===(t.frag,!1))throw Error("[tfw.webgl.Program] Missing attribute `frag` in argument `codes`!");t=i(t,r);var n=e.createProgram();e.attachShader(n,s(e,t.vert||"//No Vertex Shader")),e.attachShader(n,c(e,t.frag||"//No Fragment Shader")),e.linkProgram(n),this.program=n,Object.freeze(this.program),this.use=function(){e.useProgram(n)},this.use();var u,f,m={},g=e.getProgramParameter(n,e.ACTIVE_ATTRIBUTES);for(u=0;u<g;u++)f=e.getActiveAttrib(n,u),m[f.name]=e.getAttribLocation(n,f.name),this["$"+f.name]=e.getAttribLocation(n,f.name);Object.freeze(m),this.attribs=m;var E={},h=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(u=0;u<h;u++)f=e.getActiveUniform(n,u),E[f.name]=e.getUniformLocation(n,f.name),Object.defineProperty(this,"$"+f.name,{set:a(e,f,E[f.name]),get:o(f),enumerable:!0,configurable:!0});Object.freeze(E),this.uniforms=E}function i(e,t){var r,n,i={};for(r in e)n=e[r],i[r]=n.split("\n").map(function(e){if("#include"!=e.trim().substr(0,8))return e;var r=e.indexOf("#include")+8,n=e.substr(r).trim();"'<\"".indexOf(n.charAt(0))>-1&&(n=n.substr(1,n.length-2));var i=t[n];if("string"!=typeof i)throw console.error("Include <"+n+"> not found in ",t),Error("Include not found in shader: "+n);return i}).join("\n");return i}function a(e,t,r){var n="_$"+t.name;switch(t.type){case e.BYTE:case e.UNSIGNED_BYTE:case e.SHORT:case e.UNSIGNED_SHORT:case e.INT:case e.UNSIGNED_INT:return 1==t.size?function(t){e.uniform1i(r,t),this[n]=t}:function(t){e.uniform1iv(r,t),this[n]=t};case e.FLOAT:return 1==t.size?function(t){e.uniform1f(r,t),this[n]=t}:function(t){e.uniform1fv(r,t),this[n]=t}}}function o(e){var t="_$"+e.name;return function(){return this[t]}}function u(e,t,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(console.log(r),console.error("An error occurred compiling the shader: "+t.getShaderInfoLog(n)),null)}function c(e,t){return u(e.FRAGMENT_SHADER,e,t)}function s(e,t){return u(e.VERTEX_SHADER,e,t)}var f=function(){function t(){return n(r,arguments)}var r={en:{}},n=e("$").intl;return t.all=r,t}(),m=function(e){"string"==typeof e&&(e=document.getElementById(e)),Object.defineProperty(this,"canvas",{value:e,writable:!1,configurable:!1,enumerable:!0}),Object.defineProperty(this,"gl",{value:e.getContext("webgl")||e.getContext("experimental-webgl"),writable:!1,configurable:!1,enumerable:!0}),this.render=function(){}};m.prototype.start=function(e){if("function"==typeof e&&(this.render=e),!this._animationIsOn){var t=this,r=function(e){t._animationIsOn&&window.requestAnimationFrame(r),t.render(e)};window.requestAnimationFrame(r),this._animationIsOn=!0}},m.prototype.stop=function(){this._animationIsOn=!1};var g=function(e,t,r){var n=e.createTexture();return e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,r,0,e.RGBA,e.UNSIGNED_BYTE,null),n},E=function(e){var t=e.width,r=e.height,n=document.createElement("canvas");n.setAttribute("width",t),n.setAttribute("height",r);var i=n.getContext("2d");return i.drawImage(e,0,0),i.getImageData(0,0,t,r).data};r.Renderer=m,r.Program=n,r.createTextureForFB=g,r.getDataFromImage=E,t.exports._=f});
//# sourceMappingURL=tfw.webgl.js.map
require("smoke",function(r,t,e){function n(r,t,e){R=r;var n=c*P;a[n++]=t-10,a[n++]=e-40,a[n++]=r,a[n++]=Math.random(),a[n++]=Math.min(1,r-u.collisionTime()),P=(P+1)%s}var a,i,o,A=function(){function t(){return n(e,arguments)}var e={en:{},fr:{}},n=r("$").intl;return t.all=e,t}(),l=r("global"),u=r("hero"),f=r("programs"),b=.01,c=5,s=100,_=null,P=0,R=0;e.ready=new Promise(function(r,t){r()}),e.reset=function(r){_||(_=r,i=_.createBuffer(),o=f(_,"Smoke")),a=new Float32Array(c*s),i=_.createBuffer()},e.draw=function(r){_.blendFunc(_.SRC_ALPHA,_.ONE_MINUS_SRC_ALPHA),_.blendFuncSeparate(_.SRC_ALPHA,_.ONE_MINUS_SRC_ALPHA,_.ZERO,_.ONE),_.blendEquation(_.FUNC_ADD),r-R>b&&n(r,u.x()-30*Math.random(),u.y()-30*Math.random()),l.setGlobalUniforms(o,r),o.$uniCollision=u.collisionTime(),_.bindBuffer(_.ARRAY_BUFFER,i),_.bufferData(_.ARRAY_BUFFER,a,_.STATIC_DRAW);var t=l.BPE*c;_.enableVertexAttribArray(o.$attPos),_.vertexAttribPointer(o.$attPos,4,_.FLOAT,!1,t,0),_.enableVertexAttribArray(o.$attLight),_.vertexAttribPointer(o.$attLight,1,_.FLOAT,!1,t,4*l.BPE),_.drawArrays(_.POINTS,0,s)},t.exports._=A});
//# sourceMappingURL=smoke.js.map
require("programs",function(r,n,o){var a=function(){function n(){return a(o,arguments)}var o={en:{},fr:{}},a=r("$").intl;return n.all=o,n}(),t={vertHero:"#include vertCommon\r\n#include game2gl  \r\n\r\n// Rotation in radians.\r\nuniform float uniRotation;\r\n\r\n// Vertex position and texture coords.\r\n// (x,y) for vertex position, in game's space.\r\n// (z,w) for (radius,angle).\r\nattribute vec4 attPos;\r\n\r\nvarying vec2 varUV;\r\n\r\nconst float SQRT2 = 1.4142135623730951;\r\n\r\nvoid main() {\r\n  float xG = attPos.x;\r\n  float yG = attPos.y;\r\n  // Diagonals must be multiplied by the square root of two.\r\n  float radius = attPos.z * SQRT2;\r\n  // Using the angle, we can deduce the corner position.\r\n  float angle = attPos.w;\r\n  // Propagate UV to the fragment shader.\r\n  varUV = vec2( .5 * SQRT2 * cos(angle) + .5,\r\n                .5 - .5 * SQRT2 * sin(angle) );\r\n  // Apply hero's self rotation.\r\n  angle += uniRotation;\r\n  // Adding some deformations due to \"Infinite Improbability Drive\".\r\n  angle *= 1.0 + .03 * cos(.6 * uniVTime * (.777+angle));\r\n  // Coords of this corner.\r\n  vec2 point = game2gl( xG + radius * cos(angle), yG + radius * sin(angle) );\r\n  \r\n  // GL has a square space with coords between -1 and +1.\r\n  // Final position in GL space.\r\n  gl_Position = vec4( point, 0.0, 1.0 );\r\n}\r\n",fragHero:"precision mediump float;\r\n// Current time.\r\nuniform float uniFTime;\r\n// Last collision time.\r\nuniform float uniCollision;\r\n// The texture is the hero image.\r\nuniform sampler2D uniTexture;\r\n// texture coords UV between 0 and +1.\r\nvarying vec2 varUV;\r\n\r\nvoid main() {\r\n  gl_FragColor = texture2D( uniTexture, .5 * varUV );\r\n  float collision = uniFTime - uniCollision;\r\n  if( collision < 1.0 ) {\r\n    gl_FragColor.g *= collision;\r\n    gl_FragColor.b *= collision;\r\n  }\r\n}\r\n",vertMoon:"#include vertCommon\r\n#include game2gl\r\n  \r\n// Vertex position and texture coords.\r\n// (x,y) for vertex position, in game's space.\r\n// (z,w) for (u,v) texture coords.\r\nattribute vec2 attPos;\r\n// Point size.\r\nattribute float attSize;\r\nattribute float attRnd1;\r\nattribute float attRnd2;\r\n\r\nvarying float varSize;\r\nvarying float varRnd1;\r\nvarying float varRnd2;\r\n\r\n\r\nvoid main() {\r\n  // Propagate size to the fragment shader.\r\n  varSize = attSize;\r\n  varRnd1 = attRnd1;\r\n  varRnd2 = attRnd2;\r\n  // Game's space coords.\r\n  vec2 point = game2gl( attPos );\r\n  // GL has a square space with coords between -1 and +1.\r\n  // Final position in GL space.\r\n  gl_Position = vec4( point, 0.0, 1.0 );\r\n    \r\n  // Point's size...\r\n  gl_PointSize = pointSize( attSize );\r\n}\r\n",fragMoon:"precision mediump float;\r\n\r\nconst float PI = 3.141592653589793;\r\n\r\nconst float X = .5;\r\nconst float Y = -.5;\r\nconst float Z = 0.7071067811865476;\r\n\r\nconst vec4 WHITE = vec4( 1.0, 1.0, 1.0, 1.0 );\r\nconst vec4 BLACK = vec4( 0.0, 0.0, 0.0, 1.0 );\r\n\r\nuniform float uniFTime;\r\n\r\n// The texture is the hero image.\r\nuniform sampler2D uniTexture;\r\n\r\nvarying float varSize;\r\nvarying float varRnd1;\r\nvarying float varRnd2;\r\n\r\n\r\nvoid main() {\r\n  // Vector (x,y,z) has its tail at the center of the sphere and its head on the surface of the sphere.\r\n  float x = gl_PointCoord.x * 2.0 - 1.0;\r\n  float y = gl_PointCoord.y * 2.0 - 1.0;\r\n  float radius = x*x + y*y;\r\n  if( radius > 1.0 ) {\r\n    gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\r\n    return;\r\n  }\r\n  if( radius > .8 ) {\r\n    gl_FragColor = vec4(1.0, 1.0, 1.0, 0.5);\r\n    return;\r\n  }\r\n  // Therefore, the length of the (x,y,z) vector must be 1 and x*x + y*y + z*z = 1.\r\n  float z = sqrt( 1.0 - x*x - y*y );\r\n  // Rotation.\r\n  float a = uniFTime * .5 * (.2 + varRnd1);\r\n  float x1 = x;\r\n  float y1 = y * cos(a) + z * sin(a);\r\n  float z1 = -y * sin(a) + z * cos(a);\r\n  a = uniFTime * .5 * (.2 + varRnd2);\r\n  float x2 = x1 * cos(a) + z1 * sin(a);\r\n  float y2 = y1;\r\n  float z2 = -x1 * sin(a) + z1 * cos(a);\r\n  \r\n  gl_FragColor = texture2D( uniTexture, vec2(.25 * x2 + .25, .25 * y2 + .75) );\r\n\r\n  vec3 normal = texture2D( uniTexture, vec2(.25 * x2 + .75, .25 * y2 + .25) ).xyz;\r\n  normal = 2.0 * ( normal - vec3(.5, .5, .5) );\r\n  \r\n  float lat = -asin( normal.y );\r\n  float r = cos( lat );\r\n  float lng = 0.0;\r\n  if( r > 0.0 ) {\r\n    lng = asin( normal.x / r );\r\n  }\r\n  normal = vec3(x,y,z);\r\n  x = normal.x;\r\n  y = normal.y * cos(lat) + normal.z * sin(lat);\r\n  z = -normal.y * sin(lat) + normal.z * cos(lat);\r\n  normal = vec3(x,y,z);\r\n  \r\n  // Shadow. (x,y,z) is the normal and (X,Y,Z) is the light ray.\r\n  vec3 light = reflect( vec3(X, Y, Z), normal );\r\n  //light = reflect( light, normal );\r\n  float shadow = -light.z;\r\n  if( shadow > 0.0 ) gl_FragColor = mix( gl_FragColor, WHITE, shadow );\r\n  else if( shadow < 0.0 ) gl_FragColor = mix( gl_FragColor, BLACK, -shadow );\r\n}\r\n",vertSmoke:"#include vertCommon\r\n#include game2gl  \r\n\r\n// Vertex position and texture coords.\r\n// (x,y) for vertex position, in game's space.\r\n// z: birth.\r\n// w: random.\r\nattribute vec4 attPos;\r\n// Used for collisions. Smoke become dark after a collision.\r\n// Then attLight fall to zero.\r\nattribute float attLight;\r\n\r\nvarying float varLight;\r\nvarying float varAge;\r\n\r\nconst float CURVATURE = 0.5;\r\n\r\nvoid main() {\r\n  // Propagate random to the fragment shader.\r\n  varLight = attLight;\r\n  \r\n  // Point's size...\r\n  float age = uniVTime - attPos.z;\r\n  varAge = age;\r\n  float size = uniScrH * .05 * (1.0 + attPos.w);\r\n  size *= clamp( age, 0.0, 1.0 );\r\n  size += 30.0;\r\n  if( age > 2.0 ) size = 0.0;\r\n  gl_PointSize = size;\r\n\r\n  // Game's space coords.\r\n  float x = attPos.x - 40.0;\r\n  float shift = (age - 0.5) * 20.0;\r\n  shift *= shift;\r\n  shift -= 130.0;\r\n  float y = attPos.y + shift;\r\n  vec2 point = game2gl( x, y );\r\n  // GL has a square space with coords between -1 and +1.\r\n  // Final position in GL space.\r\n  gl_Position = vec4( point, 0.0, 1.0 );\r\n}\r\n",fragSmoke:"precision mediump float;\r\n\r\nuniform float uniFTime;\r\nuniform float uniCollision;\r\n\r\nvarying float varLight;\r\nvarying float varAge;\r\n\r\nvoid main() {\r\n  float x = gl_PointCoord.x - .5;\r\n  float y = gl_PointCoord.y - .5;\r\n  float r = sqrt(x*x + y*y);\r\n  if( r > 0.5 ) gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);\r\n  else {\r\n    float a = 2.0 - varAge;\r\n    a = clamp(a, 0.0, 1.0);\r\n    a *= 1.0 - 2.0 * r;\r\n    float k = varLight;\r\n    gl_FragColor = vec4(k, k, k, 0.25 * a);\r\n  }\r\n}\r\n",game2gl:"vec2 game2scr(float xG, float yG) {\r\n  // Where the camera points, the coords are (0,0).\r\n  xG -= uniCamX;\r\n  yG -= uniCamY;\r\n  // Wrapping.\r\n  if( xG < -.25 * uniGameW ) xG += uniGameW;\r\n  else if( xG > .75 * uniGameW ) xG -= uniGameW;\r\n\r\n  // Convert game coords into screen coords.\r\n  // A column must fit entirely in the screens height.\r\n  float factorS = uniScrH / uniGameH;\r\n  float xS = xG * factorS - uniScrW * .25;\r\n  float yS = yG * factorS;\r\n\r\n  return vec2(xS, yS);\r\n}\r\n\r\nvec2 game2gl(float xG, float yG) {\r\n  vec2 scr = game2scr(xG, yG);\r\n  // Now, convert screen coords into WebGL coords.\r\n  // Setting the center.\r\n  float factorW = 2.0 / uniScrW;\r\n  float factorH = 2.0 / uniScrH;\r\n  float x = scr.x * factorW;\r\n  float y = scr.y * factorH;  \r\n\r\n  return vec2( x, y );\r\n}\r\n\r\n\r\nvec2 game2gl(vec2 pos) {\r\n  return game2gl( pos.x, pos.y );\r\n}\r\n\r\n\r\nfloat pointSize( float radius ) {\r\n  float factorS = uniScrH / uniGameH;\r\n  return 2.0 * radius * factorS;\r\n}\r\n\r\nvec2 wrap(vec2 pos) {\r\n  // Wrapping.\r\n  if( pos.x < -uniGameW ) pos.x += uniGameW;\r\n  if( pos.x > uniGameW ) pos.x -= uniGameW;\r\n  return pos;\r\n}\r\n",vertCommon:"const float PI = 3.141592653589793;\r\n\r\n// Time in seconds.\r\nuniform float uniVTime;\r\n// Screen dimensions in pixels.\r\nuniform float uniScrW;\r\nuniform float uniScrH;\r\n// Game's space dimension.\r\nuniform float uniGameW;\r\nuniform float uniGameH;\r\n// Where is the camera pointing?\r\nuniform float uniCamX;\r\nuniform float uniCamY;\r\n"},e=r("tfw.webgl");n.exports=function(r,n){var o=t["vert"+n];if(!o)throw Error("Vertex shader not found: vert"+n+"!");var a=t["frag"+n];if(!a)throw Error("Fragment shader not found: frag"+n+"!");return new e.Program(r,{vert:o,frag:a},t)},n.exports._=a});
//# sourceMappingURL=programs.js.map
require("hero",function(n,t,r){var e,o,a,i,u,f,c,l,s,h,A=function(){function t(){return e(r,arguments)}var r={en:{},fr:{}},e=n("$").intl;return t.all=r,t}(),M=n("global"),_=n("programs"),P=n("image-loader"),b=n("event-handler"),R=1600,m=2*M.COL_W,v=600,C=0,I=null,d=0;r.ready=new Promise(function(n,t){P({hero:"hero.png"}).then(function(t){a=t.hero,n()})}),r.start=function(){C=v},r.reset=function(n){I||(I=n,o=I.createBuffer(),i=_(I,"Hero")),e=new Float32Array(16),h=0,u=.5*(M.NB_COLS*M.COL_W),f=.5*M.COL_H,c=0,l=0,s=M.COL_H/16,d=-666,b.on(function(n){l=777*n}),b.start()},r.draw=function(n){I.blendFunc(I.SRC_ALPHA,I.ONE_MINUS_SRC_ALPHA),M.setGlobalUniforms(i,n),i.$uniCollision=d,e[0]=u,e[1]=f,e[2]=s,e[3]=.25*Math.PI,e[4]=u,e[5]=f,e[6]=s,e[7]=.75*Math.PI,e[8]=u,e[9]=f,e[10]=s,e[11]=1.25*Math.PI,e[12]=u,e[13]=f,e[14]=s,e[15]=1.75*Math.PI;var t=l>0?Math.sqrt(l):-Math.sqrt(-l);t*=.02,t=Math.min(.5*Math.PI,Math.max(.5*-Math.PI,t)),i.$uniRotation=t,I.bindBuffer(I.ARRAY_BUFFER,o),I.bufferData(I.ARRAY_BUFFER,e,I.STATIC_DRAW),I.enableVertexAttribArray(i.$attPos),I.vertexAttribPointer(i.$attPos,4,I.FLOAT,!1,4*M.BPE,0),I.drawArrays(I.TRIANGLE_FAN,0,4)},r.move=function(n){if(0==h)return void(h=n);var t=n-h;h=n,u=(u+c*t)%M.GAME_W,c<m&&(c=Math.min(m,c+C*t*(c<0?4:1))),l>0?(l-=R*t,l<0&&(l=0)):l<0&&(l+=R*t,l>0&&(l=0)),f+=l*t,f>M.GAME_H-s?(f=M.GAME_H-s,l=-Math.abs(l)):f<s&&(f=s,l=Math.abs(l))},r.collision=function(n,t){c<0||(d=n,l+=(t<0?1:-1)*Math.random()*1200,c=-Math.abs(c))},r.collisionTime=function(){return d},r.isInCollision=function(n){return n-d<1},r.x=function(){return u},r.y=function(){return f},r.vx=function(){return c},r.vy=function(){return l},r.size=function(){return s},t.exports._=A});
//# sourceMappingURL=hero.js.map
require("global",function(e,n,i){function r(e,i){Object.defineProperty(n.exports,e,{value:i,writable:!1,configurable:!0,enumerable:!0})}var a=function(){function n(){return r(i,arguments)}var i={en:{},fr:{}},r=e("$").intl;return n.all=i,n}();r("BPE",(new Float32Array).BYTES_PER_ELEMENT),r("COL_W",400),r("COL_H",1e3),r("NB_COLS",Math.ceil(4*i.COL_H/i.COL_W)),r("GAME_W",i.NB_COLS*i.COL_W),r("GAME_H",i.COL_H),i.cameraX=0,i.cameraY=0,i.setGlobalUniforms=function(e,n){e.use(),e.$uniVTime=n,e.$uniFTime=n,e.$uniScrW=window.innerWidth,e.$uniScrH=window.innerHeight,e.$uniGameW=i.GAME_W,e.$uniGameH=i.GAME_H,e.$uniCamX=i.cameraX,e.$uniCamY=i.cameraY},n.exports._=a});
//# sourceMappingURL=global.js.map
require("moon",function(t,r,e){var a,n,o,i,l=function(){function r(){return a(e,arguments)}var e={en:{},fr:{}},a=t("$").intl;return r.all=e,r}(),A=t("global"),d=t("hero"),f=t("programs"),_=t("image-loader"),m=5,u=null,O=-555;e.ready=new Promise(function(t,r){_({moon:"moon.png"}).then(function(r){i=r.moon,t()})}),e.reset=function(t){u||(u=t,n=u.createBuffer(),o=f(u,"Moon")),a=new Float32Array(m*A.NB_COLS),n=u.createBuffer();for(var r,e,i,l=0,d=0;d<A.NB_COLS;d++)r=A.COL_H/12*(.7+.6*Math.random()),e=Math.random()*A.COL_W+d*A.COL_W,i=Math.random()*A.COL_H,a[l++]=e,a[l++]=i,a[l++]=r,a[l++]=Math.random(),a[l++]=Math.random()},e.draw=function(t){u.blendFunc(u.SRC_ALPHA,u.ONE_MINUS_SRC_ALPHA),u.blendFuncSeparate(u.SRC_ALPHA,u.ONE_MINUS_SRC_ALPHA,u.ZERO,u.ONE),u.blendEquation(u.FUNC_ADD),A.setGlobalUniforms(o,t),u.bindBuffer(u.ARRAY_BUFFER,n),u.bufferData(u.ARRAY_BUFFER,a,u.STATIC_DRAW);var r=A.BPE*m;u.enableVertexAttribArray(o.$attPos),u.vertexAttribPointer(o.$attPos,2,u.FLOAT,!1,r,0*A.BPE),u.enableVertexAttribArray(o.$attSize),u.vertexAttribPointer(o.$attSize,1,u.FLOAT,!1,r,2*A.BPE),u.enableVertexAttribArray(o.$attRnd1),u.vertexAttribPointer(o.$attRnd1,1,u.FLOAT,!1,r,3*A.BPE),u.enableVertexAttribArray(o.$attRnd2),u.vertexAttribPointer(o.$attRnd2,1,u.FLOAT,!1,r,3*A.BPE),u.drawArrays(u.POINTS,0,A.NB_COLS)},e.move=function(t){if(!d.isInCollision(t)){var r=d.x(),e=d.y(),n=Math.floor(r/A.COL_W);if(n!=O){O=n,n=Math.ceil(n+A.NB_COLS/2)%A.NB_COLS;var o=5*n,i=A.COL_H/12*(.7+.6*Math.random());a[o++]=(n+Math.random())*A.COL_W,a[o++]=e+i*(Math.random()-.5),a[o++]=i,a[o++]=Math.random(),a[o++]=Math.random()}var l=Math.floor(r/A.COL_W),f=(l+A.NB_COLS-1)%A.NB_COLS,_=(l+1)%A.NB_COLS;f*=m,l*=m,_*=m;var u,C,L,b;return C=a[f+0]-r,L=a[f+1]-e,b=d.size()+a[f+2],u=C*C+L*L,u<b*b?d.collision(t,L):(C=a[l+0]-r,L=a[l+1]-e,b=d.size()+a[l+2],u=C*C+L*L,u<b*b?d.collision(t,L):(C=a[_+0]-r,L=a[_+1]-e,b=d.size()+a[_+2],u=C*C+L*L,u<b*b?d.collision(t,L):void 0))}},e.makeTerrain=function(t){var r=document.createElement("canvas");r.setAttribute("width",128),r.setAttribute("height",128);var e=r.getContext("2d");e.fillStyle="rgb(127, 127, 255)",e.fillRect(0,0,128,128);for(var a,n,o,i,l,A=0;A<2;A++)for(o=8*Math.random()+16,a=128*Math.random(),n=Math.random()*(96-o)+32,i=-1;i<2;i++)for(l=-1;l<2;l++)e.drawImage(t,a+128*i,n+128*l,o,o);return r},r.exports._=l});
//# sourceMappingURL=moon.js.map
require("wdg.modal",function(t,e,n){function i(t){var e=this,n=a.div("theme-elevation-24","theme-color-bg-B3"),i=a.div([n]);a.elem(this,"div","wdg-modal",[i]);d.prop(this,"content")(function(t){a.clear(n),Array.isArray(t)?t.forEach(function(t){a.add(n,t)}):"undefined"!=typeof t&&null!==t&&a.add(n,t)}),d.propAddClass(this,"padding"),d.propAddClass(this,"scroll"),d.propAddClass(this,"wide"),d.propBoolean(this,"visible")(function(t){t?e.attach():e.detach()}),t=d.extend({visible:!1,content:[],padding:!0,scroll:!0,wide:!1},t,this)}var o=function(){function e(){return i(n,arguments)}var n={en:{}},i=t("$").intl;return e.all=n,e}(),a=t("dom"),d=t("tfw.data-binding"),s=t("wdg.flex"),r=t("wdg.button");i.prototype.refresh=function(){return d.fire(this,"content"),this},i.prototype.attach=function(){var t=this;this._timeoutDetach&&(window.clearTimeout(this._timeoutDetach),delete this._timeoutDetach),document.body.appendChild(this.element),d.set(this,"visible",!0),a.addClass(this,"fadeout"),window.setTimeout(function(){a.removeClass(t,"fadeout")})},i.prototype.detach=function(){var t=this;window.setTimeout(function(){a.addClass(t,"fadeout")}),this._timeoutDetach=window.setTimeout(function(){delete this._timeoutDetach,d.set(t,"visible",!1),a.detach(t.element)},250)},i.confirm=function(t,e,n){var o=r.No(),d=r.Yes("warning"),c=a.div([a.tag("hr"),new s({content:[o,d]})]);if("string"==typeof t&&"<html>"==t.substr(0,6)){var u=t.substr(6);t=a.div(),t.innerHTML=u}var h=new i({content:a.div([t,c]),padding:!0});return h.attach(),o.on(function(){h.detach(),"function"==typeof n&&n()}),d.on(function(){if("function"==typeof e){var t=e();"string"!=typeof t?h.detach():(o.visible=!1,d.waitOn(t))}else h.detach()}),h},i.alert=function(t,e){var n=r.Close("simple"),o=a.div([a.tag("hr"),new s({content:[n]})]);if("string"==typeof t&&"<html>"==t.substr(0,6)){var d=t.substr(6);t=a.div(),t.innerHTML=d}var c=new i({scroll:!1,content:a.div([a.div("scrollable",[t]),o]),padding:!0});return c.attach(),n.on(function(){c.detach(),"function"==typeof e&&e()}),c},e.exports=i,e.exports._=o});
//# sourceMappingURL=wdg.modal.js.map
require("wdg.button",function(e,t,n){function i(e,t){"undefined"==typeof t&&(t="standard");var n=e,i=e;"yes"==i&&(n="ok"),"no"==i&&(n="cancel");var a=new d({text:o(i),icon:n,value:e,type:t});return a}var o=function(){function t(){return i(n,arguments)}var n={en:{cancel:"Cancel",close:"Close",delete:"Delete",edit:"Edit",no:"No",ok:"OK",save:"Save",yes:"Yes"},fr:{cancel:"Annuler",close:"Fermer",delete:"Supprimer",edit:"Editer",no:"Non",ok:"Valider",save:"Sauver",yes:"Oui"}},i=e("$").intl;return t.all=n,t}(),a=e("dom"),r=e("tfw.data-binding"),s=e("wdg.icon"),l=e("tfw.touchable"),c=["standard","simple","warning","shadow","special"],d=function(e){var t=this,n=a.elem(this,"button","wdg-button","theme-elevation-2");"string"==typeof e.href&&e.href.length>0&&a.att(n,"href",e.href),"string"==typeof e.target&&e.target.length>0&&a.att(n,"target",e.target);var i=null,o=function(){a.clear(n),i?(a.add(n,i.element,t.text),t._icon=i):(n.textContent=t.text,delete t._icon)};r.prop(this,"value"),r.propEnum(c)(this,"type")(function(e){c.forEach(function(e){a.removeClass(n,e)}),a.addClass(n,e)}),r.prop(this,"icon")(function(e){i=!e||"string"==typeof e&&0==e.trim().length?null:e.element?e.element:new s({content:e,size:"1.2em"}),o()}),r.propString(this,"text")(function(e){o()});var d=new l(n,{classToAdd:"theme-elevation-8"});r.propBoolean(this,"enabled")(function(e){d.enabled=d,e?a.removeAtt(n,"disabled"):a.att(n,"disabled","yes")}),r.propBoolean(this,"small")(function(e){e?a.addClass(n,"small"):a.removeClass(n,"small")}),r.prop(this,"action",0),r.propAddClass(this,"wide"),r.propRemoveClass(this,"visible","hide"),e=r.extend({text:"OK",href:null,target:null,value:"action",action:0,icon:"",small:!1,enabled:!0,wide:!1,visible:!0,type:"standard"},e,this),a.on(this.element,{keydown:function(e){13!=e.keyCode&&32!=e.keyCode||(e.preventDefault(),e.stopPropagation(),t.fire())}}),d.tap.add(t.fire.bind(t))};d.prototype.on=function(e){return r.bind(this,"action",e),this},d.prototype.fire=function(){if(this.enabled){var e=this.href;"string"!=typeof e||0==e.trim().length?r.fire(this,"action",this.value):window.location=e}},d.prototype.waitOn=function(e){"undefined"==typeof this._backup&&(this._backup={text:this.text,icon:this.icon,enabled:this.enabled}),"string"==typeof e&&(this.text=e),this.enabled=!1,this.icon="wait",this._icon&&(this._icon.rotate=!0)},d.prototype.waitOff=function(){this.text=this._backup.text,this.icon=this._backup.icon,this.enabled=this._backup.enabled,this._icon&&(this._icon.rotate=!1),delete this._backup},d.Cancel=function(e){return i("cancel",e||"simple")},d.Close=function(e){return i("close",e||"simple")},d.Delete=function(e){return i("delete",e||"warning")},d.No=function(e){return i("no")},d.Ok=function(e){return i("ok",e||"default")},d.Edit=function(e){return i("edit")},d.Save=function(e){return i("save",e||"special")},d.Yes=function(e){return i("yes",e||"default")},d.default={caption:"OK",type:"default"},t.exports=d,t.exports._=o});
//# sourceMappingURL=wdg.button.js.map
require("tfw.touchable",function(t,e,a){var o=function(){function e(){return o(a,arguments)}var a={en:{},fr:{}},o=t("$").intl;return e.all=a,e}(),n=t("dom"),s=t("dom.fx"),i=t("tfw.listeners"),l=function(t,e){var a=this;"undefined"==typeof e&&(e={}),"undefined"==typeof e.enabled&&(e.enabled=!0),t=n(t),this.enabled=e.enabled,this.color=e.color||"#fd8",this.classToAdd=e.classToAdd,this.opacity=e.opacity||.4,this.element=n(t),this.tap=new i,this.press=new i,n.addClass(t,"tfw-touchable");var o,l,r=n.div("tfw-touchable-shadow"),d=s().css(r,{transition:"none"}).exec(function(e){var s=a.classToAdd;"string"==typeof s&&n.addClass(t,s);var i=getComputedStyle(t).position;["relative","absolute","fixed"].indexOf(i)==-1&&(t.style.position="relative"),t.style.overflow="hidden";var d=t.getBoundingClientRect(),c=d.width,f=d.height;c=Math.max(o,c-o),f=Math.max(l,f-l);var h=Math.ceil(Math.sqrt(c*c+f*f));n.css(r,{left:o+"px",top:l+"px",margin:"-"+h+"px",width:2*h+"px",height:2*h+"px",opacity:a.opacity,background:a.color,transform:"scale(0)"}),n.add(t,r)}).css(r,{transition:"all .3s ease"}).css(r,{transform:"scale(1)"}).wait(300).css(r,{transition:"all .2s ease"}).css(r,{opacity:0}).wait(200).detach(r),c=0;n.on(t,{down:function(t){a.enabled&&(t.stopPropagation(),t.preventDefault(),o=Math.floor(t.x),l=Math.floor(t.y),d.start(),c=Date.now())},tap:function(t){a.enabled&&(console.log("TAP",t),a.tap.fire(t))}})};e.exports=l,e.exports._=o});
//# sourceMappingURL=tfw.touchable.js.map
require("tfw.listeners",function(t,i,r){var n=function(){function i(){return n(r,arguments)}var r={en:{}},n=t("$").intl;return i.all=r,i}(),e=function(){this._list=[]};e.prototype.add=function(t,i){if("function"!=typeof t)return!1;this.remove(t);for(var r=0;r<this._list.length;r++)if(t===this._list[r])return!1;return this._list.push([t,i]),!0},e.prototype.remove=function(t,i){if("function"!=typeof t)return!1;for(var r=0;r<this._list.length;r++){var n=this._list[r];if(t===n[0]&&i===n[1])return this._list.splice(r,1),!0}return!1},e.prototype.clear=function(){this._list=[]},e.prototype.fire=function(){var t,i,r,n,e=[].slice.call(arguments);for(t=0;t<this._list.length;t++)if(n=this._list[t],i=n[0],r=n[1],!1===i.apply(r,e))return!1;return!0},i.exports=e,i.exports._=n});
//# sourceMappingURL=tfw.listeners.js.map
require("dom.fx",function(t,e,n){function i(t){if(t==this._session){if(this._index>=this._tasks.length)return this._index=0,this._started=!1,delete this._session,void this._onEnd(this);var e=this,n=this._tasks[this._index++];this._debug&&console.info("[dom.fx] tsk["+(this._index-1)+"]: ",n.label,"("+(Date.now()-this._startTime)+" ms)",n.args,t),n(function(){c(i.bind(e,t))},!0)}}function o(t,e){e.terminate&&e.terminate();var n=t.getBoundingClientRect();console.info("[dom.fx] rect=...",n);var i=f.div();f.css(i,{display:"inline-block",width:n.width+"px",height:n.height+"px"}),e.onBeforeReplace(t),f.replace(i,t),e.onAfterReplace(t),e.substitute=i,e.styles=r(t),e.overlay=f.div("dom-fx-fullscreen"),document.body.appendChild(e.overlay),e.overlay.appendChild(t),f.css(t,{left:n.left+"px",top:n.top+"px",width:n.width+"px",height:n.height+"px"}),f.addClass(t,"dom-fx-fullscreen-target"),c(function(){var n=e.overlay.getBoundingClientRect();f.css(t,{left:"20px",top:"20px",width:n.width-40+"px",height:n.height-40+"px"})})}function s(t,e){var n=e.substitute.getBoundingClientRect();f.css(t,{left:n.left+"px",top:n.top+"px",width:n.width+"px",height:n.height+"px"}),e.terminate=function(){f.detach(e.overlay),e.onBeforeReplace(t),f.replace(t,e.substitute),e.onAfterReplace(t),a(t,e.styles),delete e.terminate},c(e.terminate,200)}function r(t){var e,n,i={};for(e in t.style)n=t.style[e],i[e]=n;return console.info("[dom.fx] styles=...",i),i}function a(t,e){for(var n in e)t.style[n]=e[n]}var d=function(){function e(){return i(n,arguments)}var n={en:{}},i=t("$").intl;return e.all=n,e}();t("polyfill.promise");var f=t("dom"),l=t("tfw.data-binding"),c=window.setTimeout,h=function(){},p=1,u=function(t){this._session={},Object.defineProperty(u.prototype,"name",{value:t,writable:!1,configurable:!0,enumerable:!0}),this._name=t,this._tasks=[],this._index=0,this._started=!1,this._startTime=0,this._onEnd=h};u.prototype.start=function(t){this._started&&this.end(),"function"!=typeof t&&(t=h),this._onEnd=t,this._started=!0,this._index=0,this._session={$id:p++},this._startTime=Date.now(),i.call(this,this._session)},u.prototype.end=function(){if(!this._started)return this;var t=this;for(this._started=!1,delete this._session;this._index<this._tasks.length;){var e=this._tasks[this._index++];t._debug&&console.info("[dom.fx.end] tsk["+(this._index-1)+"]: ",e.label,e.args),e(h,!1)}return this._onEnd(this),this},u.prototype.debug=function(t){return this.addTask(function(e){this._debug=!!t,e()}),this},u.prototype.addTask=function(t,e,n){return t.label=e,t.args=n,this._tasks.push(t),this},u.prototype.log=function(t){return this.addTask(function(e){console.log("[dom.fx]",t),e()},"log"),this},u.prototype.pause=function(){return this.addTask(h,"pause"),this},u.prototype.exec=function(t){var e=Array.prototype.slice.call(arguments);return this.addTask(function(t,n){e.forEach(function(t){try{"function"==typeof t?t(n):console.log("[dom.fx]",t)}catch(t){console.error(t)}}),t()},"exec",e),this},["css","addClass","removeClass","toggleClass","detach","saveStyle","restoreStyle","add","removeAtt","replace"].forEach(function(t){var e=f[t];u.prototype[t]=function(){var n=Array.prototype.slice.call(arguments);return this.addTask(function(t){e.apply(f,n),t()},t,n),this}}),u.prototype.vanish=function(t,e){return e=parseInt(e),isNaN(e)&&(e=300),this.css(t,{transition:"none"}).css(t,{transition:"opacity "+e+"ms",opacity:0}).wait(e)},u.prototype.wait=function(t){var e=Array.prototype.slice.call(arguments);return"undefined"==typeof t&&(t=0),"number"==typeof t?this.addTask(function(e,n){n&&c(e,t)},"wait",e):this.addTask(function(e,n){if(n){var i=f(t),o=function(t){["transitionend","oTransitionEnd","webkitTransitionEnd"].forEach(function(t){i.removeEventListener(t,o)}),e()};["transitionend","oTransitionEnd","webkitTransitionEnd"].forEach(function(t){i.addEventListener(t,o)})}},"wait",e),this},e.exports=function(t){return new u(t)},e.exports.Fullscreen=function(t){if("undefined"==typeof t)throw Error("[dom.fx:fullscreen] Missing argument!");if("undefined"==typeof t.target)throw Error("[dom.fx:fullscreen] Missing `opts.target`!");"function"==typeof t.target.element&&(t.target=t.target.element()),"undefined"!=typeof t.target.element&&(t.target=t.target.element);var e=function(){},n={onBeforeReplace:"function"==typeof t.onBeforeReplace?t.onBeforeReplace:e,onAfterReplace:"function"==typeof t.onAfterReplace?t.onAfterReplace:e};l.propBoolean(this,"value")(function(e){e?o(t.target,n):s(t.target,n)})},e.exports._=d});
//# sourceMappingURL=dom.fx.js.map
require("tfw.data-binding",function(n,e,t){function r(n,e,r,o){var i="function"==typeof o;"undefined"==typeof e[f]&&(e[f]={}),e[f][r]={value:o,event:new a};var u;u="function"==typeof n?function(t){t=n(t),(i||e[f][r].value!==t)&&(e[f][r].value=t,e[f][r].event.fire(t,e,r))}:function(n){(i||e[f][r].value!==n)&&(e[f][r].value=n,e[f][r].event.fire(n,e,r))};var l=o;return i||(l=function(){return e[f][r].value}),Object.defineProperty(e,r,{get:l,set:u,configurable:!1,enumerable:!0}),t.bind.bind(t,e,r)}var o=function(){function e(){return r(t,arguments)}var t={en:{}},r=n("$").intl;return e.all=t,e}();n("polyfill.string");var i=n("dom"),u=n("tfw.css").parseUnit,a=n("tfw.listeners"),f="_tfw.data-binding_",l={castArray:function(n){return Array.isArray(n)?n:null===n||void 0===n?[]:[n]},castBoolean:function(n){if("boolean"==typeof n)return n;if("string"==typeof n){if(n=n.trim().toLowerCase(),"1"==n||"true"==n||"yes"==n)return!0;if("0"==n||"false"==n||"no"==n)return!1}return"number"==typeof n?!!n:null},castColor:function(n){return""+n},castDate:function(n){return"number"==typeof n||"string"==typeof n?new Date(n):n instanceof Date?n:new Date},castEnum:function(n){var e=n.map(String.toLowerCase);return function(t){if("number"==typeof t)return n[Math.floor(t)%n.length];if("string"!=typeof t)return n[0];var r=e.indexOf(t.trim().toLowerCase());return r<0&&(r=0),n[r]}},castInteger:function(n){return"number"==typeof n?Math.floor(n):"boolean"==typeof n?n?1:0:"string"==typeof n?parseInt(n):Number.NaN},castRegexp:function(n){if(n instanceof RegExp)return n;if("string"==typeof n&&0!=n.trim().length)try{return new RegExp(n)}catch(e){console.error("[castRegexp] /"+n+"/ ",e)}return null},castString:function(n){return"string"==typeof n?n:void 0===n||null===n?"":JSON.stringify(n)},castStringArray:function(n){return Array.isArray(n)?n:null===n||void 0===n?[]:"string"==typeof n?n.split(",").map(String.trim):[JSON.stringify(n)]},castUnit:function(n){return n?"undefined"!=typeof n.v?(n.v=parseFloat(n.v),isNaN(n.v)?{v:0,u:"px"}:("string"!=typeof n.u&&(n.u="px"),{v:n.v,u:n.u})):"number"==typeof n?{v:n,u:"px"}:"string"!=typeof n?{v:0,u:"px"}:u(""+n):{v:0,u:"px"}},castValidator:function(n){if("function"==typeof n)return n;if("boolean"==typeof n)return function(){return n};if("string"==typeof n&&0!=n.trim().length)try{var e=new RegExp(n);return e.test.bind(e)}catch(e){console.error("[castValidator] /"+n+"/ ",e)}return function(){return null}}};t.fire=function(n,e,t){var r=n[e];"undefined"==typeof t&&(t=r),n[f][e].value=t,n[f][e].event.fire(n[e],n,e)},t.set=function(n,e,t){"undefined"==typeof n[f]&&(n[f]={}),"undefined"==typeof n[f][e]&&(n[f][e]={}),n[f][e].value=t},t.get=function(n,e){if("undefined"!=typeof n[f]&&"undefined"!=typeof n[f][e])return n[f][e].value},t.prop=r.bind(null,null),t.propToggleClass=function(n,e,t,o){"string"!=typeof o&&(o="");var u={};"string"==typeof t?u[t]=t:Array.isArray(t)?t.forEach(function(n){u[n]=n}):u=t,r(null,n,e)(function(e){var t,r;for(t in u)r=u[t],t==e?i.addClass(n.element,o+r):i.removeClass(n.element,o+r)})},t.propAddClass=function(n,e,t){"undefined"==typeof t&&(t=e),r(l.castBoolean,n,e)(function(e){e?i.addClass(n.element,t):i.removeClass(n.element,t)})},t.propRemoveClass=function(n,e,t){"undefined"==typeof t&&(t=e),r(l.castBoolean,n,e)(function(e){e?i.removeClass(n.element,t):i.addClass(n.element,t)})},t.propArray=r.bind(null,l.castArray),t.propBoolean=r.bind(null,l.castBoolean),t.propColor=r.bind(null,l.castColor),t.propDate=r.bind(null,l.castDate),t.propEnum=function(n){return r.bind(null,l.castEnum(n))},t.propInteger=r.bind(null,l.castInteger),t.propRegexp=r.bind(null,l.castRegexp),t.propString=r.bind(null,l.castString),t.propStringArray=r.bind(null,l.castStringArray),t.propUnit=r.bind(null,l.castUnit),t.propValidator=r.bind(null,l.castValidator),t.bind=function(n,e,t,r,o){if("undefined"==typeof n[f]||"undefined"==typeof n[f][e])throw console.error(e+" is not a bindable property of ",n),Error(e+" is not a bindable property!");"undefined"==typeof o&&(o={}),o.value&&(o.converter=function(){return o.value});var i="function"==typeof t?t:function(n,e,i){t[r]="function"==typeof o.converter?o.converter(n):n};return n[f][e].event.add(i),o},t.extend=function(n,e,t){var r,o,i=JSON.parse(JSON.stringify(n));for(r in e)"$"!=r.charAt(0)&&(o=e[r],"undefined"==typeof i[r]?console.error("[tfw.data-binding.extend] Undefined argument: `"+r+"`!"):i[r]=o);if("undefined"!=typeof t){for(r in e)"$"==r.charAt(0)&&Object.defineProperty(t,r,{value:e[r],writable:!1,configurable:!1,enumerable:!1});for(r in i)"$"!=r.charAt(0)&&(t[r]=i[r])}return i},t.converters=l,e.exports._=o});
//# sourceMappingURL=tfw.data-binding.js.map
require("tfw.css",function(e,r,t){var i=function(){function r(){return i(t,arguments)}var t={en:{}},i=e("$").intl;return r.all=t,r}();t.parseUnit=function(e){for(var r,t=0,i=0;i<e.length;i++)if(r=e.charAt(i),0==t){if("-"==r||"+"==r||r>="0"&&r<="9")t=1;else if("."==r)t=2;else if(r>" ")break}else if(1==t){if("."==r)t=2;else if(r<"0"||r>"9")break}else if(2==t&&(r<"0"||r>"9"))break;return{v:parseFloat(e.substr(0,i)),u:e.substr(i).trim()}},r.exports._=i});
//# sourceMappingURL=tfw.css.js.map
require("dom",function(e,t,r){function n(e,t,r){return Object.defineProperty(e,"element",{value:t,writable:!1,configurable:!1,enumerable:!0}),r?e:(e.on=f.bind(e,t),e.css=i.bind(e,t),e.add=l.bind(e,t),e.att=s.bind(e,t),e.addClass=d.bind(e,t),e.hasClass=y.bind(e,t),e.removeClass=m.bind(e,t),e.toggleClass=p.bind(e,t),e)}function o(e,t){return e=S(e),t=S(t),t.parentNode.replaceChild(e,t),e}function i(e,t){e=S(e);var r,n;for(r in t)n=t[r],e.style[r]=n;return e}function s(e,t,r){e=S(e);var n,o;"string"==typeof t&&(n=t,t={},t[n]=r);for(n in t)o=t[n],e.setAttribute(n,o);return e}function a(e,t){return e=S(e),e.removeAttribute(t),e}function l(e){e=S(e);try{var t,r;for(t=1;t<arguments.length;t++){if(r=arguments[t],"string"==typeof r||"number"==typeof r)if(r=""+r,"<html>"==r.substr(0,6)){var n=r.substr(6);r=S.tag("span"),r.innerHTML=n}else r=document.createTextNode(r);else"function"==typeof r.element?r=r.element():"undefined"!=typeof r.element&&(r=r.element);e.appendChild(r)}return e}catch(e){throw console.error("[DOM.add] arguments=",[].slice.call(arguments)),Error("[DOM.add] "+e)}}function c(e){if(Array.isArray(e))return e.forEach(function(e){c(e)}),e;if("undefined"==typeof e[L])return e;var t=e[L].events;return"undefined"==typeof t?e:(t.off(),void delete e[L].events)}function f(e,t){if("function"!=typeof t&&null!==t||(t={tap:t}),Array.isArray(e))return e.forEach(function(e){f(e,t)}),e;e=S(e),"undefined"==typeof e[L]&&(e[L]={}),"undefined"==typeof e[L].events&&(e[L].events=new x(e));var r,n,o;for(r in t)n=t[r],"!"==r.charAt(0)?(r=r.substr(1),o=!0):o=!1,"keydown"==r||"keyup"==r?e.addEventListener(r,n,o):e[L].events.on(r,n,o);return e}function u(e,t){try{var r,n,o,i,s=document.createElementNS(e,t);for(r=2;r<arguments.length;r++)if(n=arguments[r],Array.isArray(n))n.forEach(function(e){switch(typeof e){case"string":case"number":case"boolean":if(e=""+e,"<html>"==e.substr(0,6)){var t=e.substr(6);e=S.tag("span"),e.innerHTML=t}else e=document.createTextNode(e)}l(s,e)});else switch(typeof n){case"string":n.split(" ").forEach(function(e){e.length>0&&d(s,e)});break;case"object":for(o in n)i=n[o],s.setAttribute(o,i);break;default:throw Error("[dom.tag] Error creating <"+t+">: Invalid argument #"+r+"!")}return s}catch(r){console.error("[dom.tagNS] Error with `ns` = ",e," and `name` = ",t),console.error(r)}}function d(e){var t=[].slice.call(arguments,1);return Array.isArray(e)?(t.unshift(null),e.forEach(function(e){t[0]=e,d.apply(void 0,t)}),e):(e=S(e),t.forEach(function(t){if("string"==typeof t&&(t=t.trim(),0!=t.length))try{e.classList&&e.classList.add(t)}catch(e){console.error("[dom.addClass] Invalid class name: ",t),console.error(e)}}),e)}function y(e,t){return e=S(e),!!e.classList&&e.classList.contains(t)}function m(e){var t=[].slice.call(arguments,1);return Array.isArray(e)?(t.unshift(null),e.forEach(function(e){t[0]=e,m.apply(void 0,t)}),e):(e=S(e),t.forEach(function(t){if("string"==typeof t)try{e.classList&&e.classList.remove(t)}catch(e){console.error("[dom.removeClass] Invalid class name: ",t),console.error(e)}}),e)}function p(e){var t=[].slice.call(arguments,1);return t.forEach(function(t){y(e,t)?m(e,t):d(e,t)}),e}function v(e){e=S(e);for(var t=e;t.firstChild;)t.removeChild(t.firstChild);var r=[].slice.call(arguments);return r.length>1&&l.apply(this,r),e}function h(e,t){return e=S(e),"undefined"==typeof t&&(t=e,e=window.document),e.querySelector(t)}function g(e){e=S(e);var t=e.parentElement;return t?(t.removeChild(e),t):t}function w(e){var t=[].slice.call(arguments);t.shift(),0==t.length&&(t=["div"]),t.push("dom","custom");var r;return"undefined"!=typeof t[0].element?(r=t[0].element,d(r,"dom","custom")):"function"==typeof t[0].appendChild?(r=t[0],d(r,"dom","custom")):r=S.tag.apply(S,t),Object.defineProperty(e,"element",{value:r,writable:!1,configurable:!1,enumerable:!0}),r}function b(e,t){return"undefined"==typeof t&&(t=""),null===t&&(t=""),"string"!=typeof t&&(t=JSON.stringify(t)),"<html>"==t.substr(0,6)?e.innerHTML=t.substr(6):e.textContent=t,e}function A(e){return Array.isArray(e)?void e.forEach(function(e){e=S(e),"undefined"==typeof e[L]&&(e[L]={}),Array.isArray(e[L].style)||(e[L].style=[]),e[L].style.push(JSON.stringify(e.style))}):A(Array.prototype.slice.call(arguments))}function E(e){return Array.isArray(e)?void e.forEach(function(e){if(e=S(e),"undefined"==typeof e[L]||!Array.isArray(e[L].style))throw Error("[dom.restoreStyle] `saveStyle()` has never been used on this element!");if(0==e[L].style.length)throw Error("[dom.restoreStyle] more `restore` than `save`!");var t,r,n=JSON.parse(e[L].style.pop());for(t in n)r=n[t],"undefined"!=typeof r&&(e.style[t]=r)}):E(Array.prototype.slice.call(arguments))}var C=function(){function t(){return n(r,arguments)}var r={en:{}},n=e("$").intl;return t.all=r,t}();e("polyfill.classList");var x=e("tfw.pointer-events"),S=function(e){if("string"==typeof e){var t=document.getElementById(e);return t||console.error("[dom] There is no DOM element with this ID: `"+e+"`"),t}if(!e)throw Error("`dom` is not a valid element!",e);return"function"==typeof e.element?e.element():e.element?e.element:e};t.exports=S;var L="@dom"+Date.now();S.tagNS=u,S.svgRoot=u.bind(void 0,"http://www.w3.org/2000/svg","svg",{version:"1.1","xmlns:svg":"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),S.svg=u.bind(void 0,"http://www.w3.org/2000/svg"),S.tag=u.bind(void 0,"http://www.w3.org/1999/xhtml"),S.div=u.bind(void 0,"http://www.w3.org/1999/xhtml","div"),S.txt=window.document.createTextNode.bind(window.document),S.textOrHtml=b,S.get=h,S.elem=w,S.css=i,S.att=s,S.removeAtt=a,S.addClass=d,S.hasClass=y,S.removeClass=m,S.toggleClass=p,S.saveStyle=A,S.restoreStyle=E,S.replace=o,S.detach=g,S.on=f,S.off=c,S.add=l,S.wrap=n,S.clear=v,t.exports._=C});
//# sourceMappingURL=dom.js.map
require("tfw.pointer-events",function(e,t,o){function n(e){var t=this;this._slots={},this._eventListeners=[],Object.defineProperty(n.prototype,"element",{value:e,writable:!1,configurable:!0,enumerable:!0}),a.call(t,e,"touchstart",function(o){d.touchDevice||(d.touchDevice=!0,document.body.removeEventListener("mousedown",l,!0),document.body.removeEventListener("mousemove",p,!0),document.body.removeEventListener("mouseup",v,!0));var n=t._slots;1==o.touches.length&&(d.rect=e.getBoundingClientRect(),d.bodyMoveX=o.touches[0].clientX,d.bodyMoveY=o.touches[0].clientY,d.bodyDownX=o.touches[0].clientX,d.bodyDownY=o.touches[0].clientY,d.targetX=o.touches[0].clientX-d.rect.left,d.targetY=o.touches[0].clientY-d.rect.top,d.time=Date.now(),n.down&&n.down({action:"down",target:e,x:d.targetX,y:d.targetY,stopPropagation:o.stopPropagation.bind(o),preventDefault:o.preventDefault.bind(o)}))}),a.call(t,e,"touchmove",function(o){var n=d.bodyMoveX,a=d.bodyMoveY;d.bodyMoveX=o.touches[0].clientX,d.bodyMoveY=o.touches[0].clientY;var r=t._slots;r.drag&&r.drag({action:"drag",target:e,x0:d.targetX,y0:d.targetY,x:d.bodyMoveX-d.rect.left,y:d.bodyMoveY-d.rect.top,dx:d.bodyMoveX-d.bodyDownX,dy:d.bodyMoveY-d.bodyDownY,vx:d.bodyMoveX-n,vy:d.bodyMoveY-a,stopPropagation:o.stopPropagation.bind(o),preventDefault:o.preventDefault.bind(o)})}),a.call(t,e,"touchend",function(e){var o=t._slots,n=d.bodyMoveX-d.bodyDownX,a=d.bodyMoveY-d.bodyDownY;if(o.up&&o.up({action:"up",target:t.element,x:d.bodyMoveX-d.rect.left,y:d.bodyMoveY-d.rect.top,dx:n,dy:a,stopPropagation:e.stopPropagation.bind(e),preventDefault:e.preventDefault.bind(e)}),n*n+a*a<256){var r=Date.now();d.lastTapTime>0&&(o.doubletap&&r-d.lastTapTime<400?o.doubletap({action:"doubletap",target:t.element,x:d.bodyMoveX-d.rect.left,y:d.bodyMoveY-d.rect.top,stopPropagation:e.stopPropagation.bind(e),preventDefault:e.preventDefault.bind(e)}):d.lastTapTime=0),o.tap&&0==d.lastTapTime&&(e.stopPropagation(),e.preventDefault(),o.tap({action:"tap",target:t.element,x:d.bodyMoveX-d.rect.left,y:d.bodyMoveY-d.rect.top,stopPropagation:e.stopPropagation.bind(e),preventDefault:e.preventDefault.bind(e)})),d.lastTapTime=r}}),a.call(t,e,"mousedown",function(o){if(!d.touchDevice){var n=t._slots,a=e.getBoundingClientRect();d.target=t,d.targetX=o.clientX-a.left,d.targetY=o.clientY-a.top,n.down&&n.down({action:"down",target:e,x:d.targetX,y:d.targetY,stopPropagation:o.stopPropagation.bind(o),preventDefault:o.preventDefault.bind(o)})}}),a.call(t,e,"mousemove",function(o){var n=t._slots;if(n.move){var a=e.getBoundingClientRect(),r=o.target.getBoundingClientRect();n.move({target:e,action:"move",x:o.offsetX+r.left-a.left,y:o.offsetY+r.top-a.top})}}),Object.defineProperty(this,"element",{value:e,writable:!0,configurable:!0,enumerable:!0})}function a(e,t,o,n){e.addEventListener(t,o,n),this._eventListeners.push([e,t,o,n])}var r=function(){function t(){return n(o,arguments)}var o={en:{}},n=e("$").intl;return t.all=o,t}(),i="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",d={touchDevice:!1,target:null,targetX:0,targetY:0,bodyDownX:0,bodyDownY:0,bodyMoveX:-1,bodyMoveY:-1,bodyMoveLastX:-1,bodyMoveLastY:-1,onDrag:null,lastTapTime:0},l=function(e){d.touchDevice||(d.bodyDownX=e.pageX,d.bodyDownY=e.pageY,d.bodyMoveX=e.pageX,d.bodyMoveY=e.pageY,d.bodyMoveLastX=e.pageX,d.bodyMoveLastY=e.pageY)},p=function(e){if(!d.touchDevice&&d.target&&(e.stopPropagation(),e.preventDefault(),d.bodyMoveLastX=d.bodyMoveX,d.bodyMoveLastY=d.bodyMoveY,d.bodyMoveX=e.pageX,d.bodyMoveY=e.pageY,d.target)){var t=d.target._slots;"function"==typeof t.drag&&t.drag({action:"drag",target:d.target.element,x0:d.targetX,y0:d.targetY,x:d.targetX+d.bodyMoveX-d.bodyDownX,y:d.targetY+d.bodyMoveY-d.bodyDownY,dx:d.bodyMoveX-d.bodyDownX,dy:d.bodyMoveY-d.bodyDownY,vx:d.bodyMoveX-d.bodyMoveLastX,vy:d.bodyMoveY-d.bodyMoveLastY})}},v=function(e){if(!d.touchDevice&&d.target){e.stopPropagation(),e.preventDefault();var t=Date.now(),o=d.target._slots,n=e.pageX-d.bodyDownX,a=e.pageY-d.bodyDownY;o.up&&o.up({action:"up",target:d.target.element,x:d.targetX+n,y:d.targetY+a,dx:n,dy:a}),n*n+a*a<1024&&(d.lastTapTime>0&&(o.doubletap&&t-d.lastTapTime<400?o.doubletap({action:"doubletap",target:d.target.element,x:d.targetX+n,y:d.targetY+a}):d.lastTapTime=0),o.tap&&0==d.lastTapTime&&o.tap({action:"tap",target:d.target.element,x:d.targetX+n,y:d.targetY+a}),d.lastTapTime=t),delete d.target}};document.body.addEventListener("mousedown",l,!0),document.body.addEventListener("mousemove",p,!0),document.body.addEventListener("mouseup",v,!0),n.prototype.on=function(e,t){var o=this,n=this._slots;return"function"==typeof t&&(n[e]=t),"wheel"==e&&a.call(o,this.element,i,function(e){var t=o.element.getBoundingClientRect();n.wheel({target:o.element,action:"wheel",delta:e.deltaY,x:e.clientX-t.left,y:e.clientY-t.top,stopPropagation:e.stopPropagation.bind(e),preventDefault:e.preventDefault.bind(e)})}),this},n.prototype.off=function(){this._eventListeners.forEach(function(e){var t=e[0],o=e[1],n=e[2],a=e[3];t.removeEventListener(o,n,a)})},t.exports=n,t.exports._=r});
//# sourceMappingURL=tfw.pointer-events.js.map
require("polyfill.classList",function(t,e,n){var i=function(){function e(){return i(n,arguments)}var n={en:{}},i=t("$").intl;return e.all=n,e}();"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?!function(){"use strict";var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var n,i=arguments.length;for(n=0;n<i;n++)t=arguments[n],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}}t=null}():!function(t){"use strict";if("Element"in t){var e="classList",n="prototype",i=t.Element[n],s=Object,r=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array[n].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},c=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},a=function(t,e){if(""===e)throw new c("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new c("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(t,e)},l=function(t){for(var e=r.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],i=0,s=n.length;i<s;i++)this.push(n[i]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},u=l[n]=[],f=function(){return new l(this)};if(c[n]=Error[n],u.item=function(t){return this[t]||null},u.contains=function(t){return t+="",a(this,t)!==-1},u.add=function(){var t,e=arguments,n=0,i=e.length,s=!1;do t=e[n]+"",a(this,t)===-1&&(this.push(t),s=!0);while(++n<i);s&&this._updateClassName()},u.remove=function(){var t,e,n=arguments,i=0,s=n.length,r=!1;do for(t=n[i]+"",e=a(this,t);e!==-1;)this.splice(e,1),r=!0,e=a(this,t);while(++i<s);r&&this._updateClassName()},u.toggle=function(t,e){t+="";var n=this.contains(t),i=n?e!==!0&&"remove":e!==!1&&"add";return i&&this[i](t),e===!0||e===!1?e:!n},u.toString=function(){return this.join(" ")},s.defineProperty){var h={get:f,enumerable:!0,configurable:!0};try{s.defineProperty(i,e,h)}catch(t){t.number===-2146823252&&(h.enumerable=!1,s.defineProperty(i,e,h))}}else s[n].__defineGetter__&&i.__defineGetter__(e,f)}}(self)),e.exports._=i});
//# sourceMappingURL=polyfill.classList.js.map
require("polyfill.string",function(r,t,n){var e=function(){function t(){return e(n,arguments)}var n={en:{}},e=r("$").intl;return t.all=n,t}();"function"!=typeof String.toLowerCase&&(String.toLowerCase=function(r){return r.toLowerCase()},String.toUpperCase=function(r){return r.toUpperCase()},String.trim=function(r){return r.trim()}),t.exports._=e});
//# sourceMappingURL=polyfill.string.js.map
require("wdg.icon",function(t,e,o){function r(t,e,o){if(a.clear(e),"string"==typeof o){var r=H.Icons[o.trim().toLowerCase()];if("undefined"!=typeof r)o=r;else try{o=JSON.parse(o)}catch(t){return console.error("[wdg.icon:content] Bad value: ",o),void console.error(t)}}if(!Array.isArray(o))return void console.error("[wdg.icon:content] Value must be an array: ",o);try{i.call(this,t,e,o)}catch(t){console.error("[wdg.icon:content] Bad content: ",o),console.error(t)}}function i(t,e,o){if("string"==typeof o){var r=window.document.createTextNode(o);return void e.appendChild(r)}if(!Array.isArray(o)||0==o.length)return console.error("[wdg.icon:content] `child` must be an array: ",o),void console.error("parent = ",e);var l;o.forEach(function(o,r){var n,h,s,f;if(0==r)l=a.svg(o),a.add(e,l);else if("string"==typeof o)a.addClass(l,o);else if(Array.isArray(o))o.forEach(function(e){i.call(this,t,l,e)},this);else if("object"==typeof o)for(n in o)h=o[n],"fill"!=n&&"stroke"!=n||"number"!=typeof h||(f=Math.floor(h)%6,s="color"+f,h=this[s],"undefined"==typeof t[f]&&(t[f]={fill:[],stroke:[]}),t[f][n].push(l)),a.att(l,n,h)},this)}function l(t){return["g",[["path",{d:t,stroke:0,"stroke-width":40}],["path",{d:t,stroke:1,"stroke-width":24}]]]}function n(t){return["g",[["path",{d:t,stroke:0,fill:"none","stroke-width":16}],["path",{d:t,stroke:"none",fill:1}]]]}var h=function(){function e(){return r(o,arguments)}var o={en:{}},r=t("$").intl;return e.all=o,e}(),a=t("dom"),s=t("tfw.data-binding"),f=t("tfw.touchable"),H=function(t){var e=this,o=[],i=a.svg("g",{"stroke-width":6,fill:"none","stroke-linecap":"round","stroke-linejoin":"round"}),l=a.svgRoot({width:"100%",height:"100%",viewBox:"-65 -65 130 130",preserveAspectRatio:"xMidYMid meet"}),n=a.div("wdg-icon",[l]),h=a.elem(this,n);a.add(l,i),s.prop(this,"content")(r.bind(this,o,i)),s.prop(this,"value"),s.propBoolean(this,"rotate")(function(t){t?a.addClass(l,"rotate"):a.removeClass(l,"rotate")}),s.propBoolean(this,"button")(function(t){if(t){a.addClass(h,"theme-elevation-8"),a.removeClass(h,"flat");var o=e.size;a.css(h,{padding:"calc(0.25 * "+o.v+o.u+") 0 0 0",width:"calc(1.5 * "+o.v+o.u+")",height:"calc(1.5 * "+o.v+o.u+")","line-height":o.v+o.u}),a.css(l,{"line-height":o.v+o.u});var r=new f(h,{classToAdd:"theme-elevation-16"});r.tap.add(s.fire.bind(s,e,"action",e.value))}else a.removeClass(h,"theme-elevation-8"),a.addClass(h,"flat"),a.css(h,{padding:0}),a.off(h)}),s.propUnit(this,"size")(function(t){var e=t.v+t.u;a.css(l,{width:e,height:e,"line-height":e})}),s.prop(this,"action"),s.propAddClass(this,"wide"),s.propRemoveClass(this,"visible","hide"),s.propToggleClass(this,"type",{default:"theme-color-bg-B0",accent:"theme-color-bg-A5"});for(var H=function(t,r){var i=o[t];"undefined"!=typeof i&&(i.fill.forEach(function(o){a.att(o,"fill",e["color"+t])}),i.stroke.forEach(function(o){a.att(o,"stroke",e["color"+t])}))},M=0;M<6;M++)s.propColor(this,"color"+M)(H.bind(this,M));t=s.extend({color0:"#000000",color1:"#ffffff",color2:"#777777",color3:"#ff0000",color4:"#00ff00",color5:"#0000ff",content:["circle",{stroke:1,fill:0,r:90,cx:0,cy:0}],type:"default",angle:0,size:"2rem",button:!1,value:"icon",rotate:!1,wide:!1,visible:!0},t,this)};H.prototype.on=function(t){return s.bind(this,"action",t)},H.prototype.fire=function(){s.fire(this,"action",this.value)},H.Icons={android:n("M15,-35H10V-40H15M-10,-35H-15V-40H-10M18,-49L24,-56C25,-57,25,-58,24,-59C23,-60,22,-60,21,-59L13,-52C9,-54,5,-55,0,-55C-5,-55,-9,-54,-13,-52L-21,-59C-22,-60,-23,-60,-24,-59C-25,-58,-25,-57,-24,-56L-18,-49C-25,-44,-30,-35,-30,-25H30C30,-35,25,-44,18,-49M43,-20A8,8,0,0,0,35,-12V23A8,8,0,0,0,43,30A8,8,0,0,0,50,23V-12A8,8,0,0,0,43,-20M-42,-20A8,8,0,0,0,-50,-12V23A8,8,0,0,0,-42,30A8,8,0,0,0,-35,23V-12A8,8,0,0,0,-42,-20M-30,30A5,5,0,0,0,-25,35H-20V53A8,8,0,0,0,-12,60A8,8,0,0,0,-5,53V35H5V53A8,8,0,0,0,13,60A8,8,0,0,0,20,53V35H25A5,5,0,0,0,30,30V-20H-30V30Z"),bug:n("M10,0H-10V-10H10M10,20H-10V10H10M40,-20H26C24,-24 21,-27 17,-30L25,-38L18,-45L7,-34C5,-35 3,-35 0,-35C-2,-35 -5,-35 -7,-34L-18,-45L-25,-38L-17,-30C-21,-27 -24,-24 -26,-20H-40V-10H-30C-30,-8 -30,-7 -30,-5V0H-40V10H-30V15C-30,17 -30,18 -30,20H-40V30H-26C-21,39 -11,45 0,45C11,45 21,39 26,30H40V20H30C30,18 30,17 30,15V10H40V0H30V-5C30,-7 30,-8 30,-10H40V-20Z"),cancel:["g",[["path",{d:"M-30,-30L30,30M-30,30L30,-30",stroke:0,"stroke-width":30}],["path",{d:"M-30,-30L30,30M-30,30L30,-30",stroke:3,"stroke-width":16}]]],center:n("M0,-15A15,15,0,0,0,-15,0A15,15,0,0,0,0,15A15,15,0,0,0,15,0A15,15,0,0,0,0,-15M35,35H15V45H35A10,10,0,0,0,45,35V15H35M35,-45H15V-35H35V-15H45V-35A10,10,0,0,0,35,-45M-35,-35H-15V-45H-35A10,10,0,0,0,-45,-35V-15H-35M-35,15H-45V35A10,10,0,0,0,-35,45H-15V35H-35V15Z"),close:l("M-40,-40L40,40M-40,40L40,-40"),code:n("M13,23L36,0L13,-23L20,-30L50,0L20,30L13,23M-13,23L-36,0L-13,-23L-20,-30L-50,0L-20,30L-13,23Z"),delete:n("M35,-40H18L13,-45H-12L-17,-40H-35V-30H35M-30,35A10,10,0,0,0,-20,45H20A10,10,0,0,0,30,35V-25H-30V35Z"),down:l("M-30,-30L0,30,30,-30"),"down-double":l("M-30,-40L0,-10,30,-40M-30,10L0,40,30,10"),edit:n("M24,-46C22,-46,20,-46,19,-44L8,-34L35,-7L45,-17C48,-21,48,-25,45,-28L29,-44C28,-46,26,-46,24,-46M5,-30L-36,11L-23,12L-22,23L-11,24L-9,37L31,-3M-39,15L-47,49L-14,40L-15,29L-27,28L-28,16"),export:n("M-35,40H35V30H-35M35,-15H15V-45H-15V-15H-35L0,20L35,-15Z"),"flag-jp":["g",{stroke:"none"},[["path",{fill:"#000",d:"M-65,50h130v-100h-130z"}],["path",{fill:"#fff",d:"M-60,45h120v-90h-120z"}],["circle",{fill:"#bc002d",r:24}]]],"flag-fr":["g",{stroke:"none"},[["path",{fill:"#000",d:"M-65,50h130v-100h-130z"}],["path",{fill:"#002395",d:"M-60,45h40v-90h-40z"}],["path",{fill:"#fff",d:"M-20,45h40v-90h-40z"}],["path",{fill:"#ed2939",d:"M20,45h40v-90h-40z"}]]],"flag-it":["g",{stroke:"none"},[["path",{fill:"#000",d:"M-65,50h130v-100h-130z"}],["path",{fill:"#009246",d:"M-60,45h40v-90h-40z"}],["path",{fill:"#fff",d:"M-20,45h40v-90h-40z"}],["path",{fill:"#ce2b37",d:"M20,45h40v-90h-40z"}]]],"flag-de":["g",{stroke:"none"},[["path",{fill:"#000",d:"M-65,41h130v-82h-130z"}],["path",{fill:"#ffce00",d:"M-60,36h120v-24h-120z"}],["path",{fill:"#dd0000",d:"M-60,12h120v-24h-120z"}]]],"flag-en":["g",{stroke:"none"},[["path",{fill:"#000",d:"M-65,37h130v-75h-130z"}],["path",{fill:"#bb133e",d:"M-60,32h120v-65h-120z"}],["path",{fill:"#fff",d:"M-60,22h120v5h-120z"}],["path",{fill:"#fff",d:"M-60,12h120v5h-120z"}],["path",{fill:"#fff",d:"M-60,2h120v5h-120z"}],["path",{fill:"#fff",d:"M-60,-8h120v5h-120z"}],["path",{fill:"#fff",d:"M-60,-18h120v5h-120z"}],["path",{fill:"#fff",d:"M-60,-28h120v5h-120z"}],["path",{fill:"#002664",d:"M-60,-33h48v35h-48z"}]]],"format-align-center":n("M-45,-45H45V-35H-45V-45M-25,-25H25V-15H-25V-25M-45,-5H45V5H-45V-5M-25,15H25V25H-25V15M-45,35H45V45H-45V35Z"),"format-align-justify":n("M-45,-45H45V-35H-45V-45M-45,-25H45V-15H-45V-25M-45,-5H45V5H-45V-5M-45,15H45V25H-45V15M-45,35H45V45H-45V35Z"),"format-align-left":n("M-45,-45H45V-35H-45V-45M-45,-25H15V-15H-45V-25M-45,-5H45V5H-45V-5M-45,15H15V25H-45V15M-45,35H45V45H-45V35Z"),"format-align-right":n(" M-45,-45H45V-35H-45V-45M-15,-25H45V-15H-15V-25M-45,-5H45V5H-45V-5M-15,15H45V25H-15V15M-45,35H45V45H-45V35Z "),"format-bold":n("M8,18H-10V3H8A8,8,0,0,1,15,10A8,8,0,0,1,8,18M-10,-27H5A8,8,0,0,1,13,-20A8,8,0,0,1,5,-12H-10M18,-6C23,-9,26,-15,26,-20C26,-31,18,-40,6,-40H-25V30H10C21,30,29,22,29,11C29,3,24,-3,18,-6Z"),"format-italic":n("M-10,-40V-25H1L-16,15H-30V30H10V15H-1L16,-25H30V-40H-10Z"),"format-underline":n("M-35,45H35V35H-35V45M0,25A30,30,0,0,0,30,-5V-45H18V-5A18,18,0,0,1,0,13A18,18,0,0,1,-17,-5V-45H-30V-5A30,30,0,0,0,0,25Z"),fullscreen:["g",[["path",{d:"M-20,-10h70v50h-70Z",stroke:0,fill:1,"stroke-width":8}],["path",{d:"M-40,-30h70v50h-70Z",stroke:0,fill:1,"stroke-width":8}]]],gear:n("M0,18A18,18,0,0,1,-17,0A18,18,0,0,1,0,-17A18,18,0,0,1,18,0A18,18,0,0,1,0,18M37,5C37,3,38,2,38,0C38,-2,37,-3,37,-5L48,-13C49,-14,49,-15,48,-16L38,-34C38,-35,36,-35,35,-35L23,-30C20,-32,18,-33,14,-35L13,-48C12,-49,11,-50,10,-50H-10C-11,-50,-12,-49,-12,-48L-14,-35C-17,-33,-20,-32,-23,-30L-35,-35C-36,-35,-38,-35,-38,-34L-48,-16C-49,-15,-49,-14,-48,-13L-37,-5C-37,-3,-37,-2,-37,0C-37,2,-37,3,-37,5L-48,13C-49,14,-49,15,-48,16L-38,34C-38,35,-36,35,-35,35L-23,30C-20,32,-17,33,-14,35L-12,48C-12,49,-11,50,-10,50H10C11,50,12,49,13,48L14,35C18,33,20,32,23,30L35,35C36,35,38,35,38,34L48,16C49,15,49,14,48,13L37,5Z"),gps:n("M0,-20A20,20,0,0,1,20,0A20,20,0,0,1,0,20A20,20,0,0,1,-20,0A20,20,0,0,1,0,-20M-45,5H-55V-5H-45C-42,-26,-26,-42,-5,-45V-55H5V-45C26,-42,43,-26,45,-5H55V5H45C43,26,26,43,5,45V55H-5V45C-26,43,-42,26,-45,5M0,-35A35,35,0,0,0,-35,0A35,35,0,0,0,0,35A35,35,0,0,0,35,0A35,35,0,0,0,0,-35Z"),hand:n("M-10,-50A10,10,0,0,1,0,-40V-17C0,-17,10,-19,10,-14C10,-14,20,-15,20,-10C20,-10,30,-11,30,-6C30,-6,40,-7,40,-2V15C40,20,25,45,25,50H-15C-15,50,-25,15,-40,5C-40,5,-45,-25,-20,0V-40A10,10,0,0,1,-10,-50Z"),heart:["g",[["path",{d:"M0,-20c0,-30,40,-30,40,0c0,40,-40,40,-40,60c0,-20,-40,-20,-40,-60c0,-30,40,-30,40,0","stroke-width":8,fill:1,stroke:0}]]],hide:n("M-1,-15L15,1C15,1,15,0,15,0A15,15,0,0,0,0,-15C0,-15,-1,-15,-1,-15M-22,-11L-15,-3C-15,-2,-15,-1,-15,0A15,15,0,0,0,0,15C1,15,2,15,3,15L11,22C8,24,4,25,0,25A25,25,0,0,1,-25,0C-25,-4,-24,-8,-22,-11M-50,-39L-39,-27L-36,-25C-45,-18,-51,-10,-55,0C-46,22,-25,38,0,38C8,38,15,36,22,33L24,35L39,50L45,44L-44,-45M0,-25A25,25,0,0,1,25,0C25,3,24,6,23,9L38,24C45,18,51,9,55,0C46,-22,25,-37,0,-37C-7,-37,-14,-36,-20,-34L-9,-23C-6,-24,-3,-25,0,-25Z"),home:n("M-10,40V10H10V40H35V0H50L0,-45L-50,0H-35V40H-10Z"),import:n("M-15,20V-10H-35L0,-45L35,-10H15V20H-15M-35,40V30H35V40H-35Z"),improvement:n("M0,50A50,50,0,0,1,-50,0A50,50,0,0,1,0,-50A50,50,0,0,1,50,0A50,50,0,0,1,0,50M0,-25L-25,0H-10V20H10V0H25L0,-25Z"),left:l("M30,-30L-30,0,30,30"),"left-double":l("M-10,-30L-40,0,-10,30M40,-30L10,0,40,30"),location:["g",{"stroke-linejoin":"miter"},[["path",{fill:1,stroke:0,"stroke-width":8,d:"M0,50L20,0c20,-20,10,-50,-20,-50c-30,0,-40,30,-20,50Z"}],["circle",{fill:0,stroke:"none",r:10,cy:-20}]]],logout:n("M25,26V10H-10V-10H25V-26L51,0L25,26M5,-50A10,10,0,0,1,15,-40V-20H5V-40H-40V40H5V20H15V40A10,10,0,0,1,5,50H-40A10,10,0,0,1,-50,40V-40A10,10,0,0,1,-40,-50H5Z"),mail:n("M40,-40H-40A10,10,0,0,0,-50,-30V30A10,10,0,0,0,-40,40H40A10,10,0,0,0,50,30V-30A10,10,0,0,0,40,-40M40,30H-40V-20L0,5L40,-20V30M40,-30L0,-5L-40,-30V-30H40V-30Z"),"map-layer":n("M0,20L37,-9L45,-15L0,-50L-45,-15L-37,-9M0,33L-37,4L-45,10L0,45L45,10L37,4L0,33Z"),menu:l("M-40,-34h80M-40,0h80M-40,34h80"),minus:l("M-45,0H45"),"minus-o":["g",[["circle",{r:60,stroke:"none",fill:0}],["circle",{r:50,stroke:"none",fill:1}],["path",{d:"M-30,0H30",fill:"none",stroke:0,"stroke-width":16}]]],"minus-small":l("M-30,0H30"),ok:["g",[["path",{d:"M-30,0L-10,30,30,-30",stroke:0,"stroke-width":30}],["path",{d:"M-30,0L-10,30,30,-30",stroke:4,"stroke-width":16}]]],plus:l("M-45,0H45M0,-45V45"),"plus-o":["g",[["circle",{r:60,stroke:"none",fill:0}],["circle",{r:50,stroke:"none",fill:1}],["path",{d:"M-30,0H30M0,-30V30",fill:"none",stroke:0,"stroke-width":16}]]],"plus-small":l("M-30,0H30M0,-30V30"),print:["path",{fill:0,d:"M30,-45H-30V-25H30M35,0A5,5,0,0,1,30,-5A5,5,0,0,1,35,-10A5,5,0,0,1,40,-5A5,5,0,0,1,35,0M20,35H-20V10H20M35,-20H-35A15,15,0,0,0,-50,-5V25H-30V45H30V25H50V-5A15,15,0,0,0,35,-20Z"}],question:n("M-10,35H5V50H-10V35M0,-50C27,-49,38,-22,23,-2C18,3,12,7,8,11C5,15,5,20,5,25H-10C-10,17,-10,10,-7,5C-3,0,3,-3,8,-7C20,-18,17,-34,0,-35A15,15,0,0,0,-15,-20H-30A30,30,0,0,1,0,-50Z"),right:l("M-30,-30L30,0,-30,30"),"right-double":l("M10,-30L40,0,10,30M-40,-30L-10,0,-40,30"),search:n("M-12,-45A33,33,0,0,1,20,-12C20,-4,17,3,12,9L14,10H18L43,35L35,43L10,18V14L9,12C3,17,-4,20,-12,20A33,33,0,0,1,-45,-12A33,33,0,0,1,-12,-45M-12,-35C-25,-35,-35,-25,-35,-12C-35,0,-25,10,-12,10C0,10,10,0,10,-12C10,-25,0,-35,-12,-35Z"),share:n("M30,20C26,20,23,22,20,24L-15,3C-15,2,-15,1,-15,0C-15,-1,-15,-2,-15,-3L20,-24C23,-22,26,-20,30,-20A15,15,0,0,0,45,-35A15,15,0,0,0,30,-50A15,15,0,0,0,15,-35C15,-34,15,-33,15,-31L-20,-11C-22,-13,-26,-15,-30,-15A15,15,0,0,0,-45,0A15,15,0,0,0,-30,15C-26,15,-22,13,-20,11L16,32C16,33,15,34,15,35C15,43,22,50,30,50C38,50,45,43,45,35A15,15,0,0,0,30,20Z"),show:n("M0,-15A15,15,0,0,0,-15,0A15,15,0,0,0,0,15A15,15,0,0,0,15,0A15,15,0,0,0,0,-15M0,25A25,25,0,0,1,-25,0A25,25,0,0,1,0,-25A25,25,0,0,1,25,0A25,25,0,0,1,0,25M0,-37C-25,-37,-46,-22,-55,0C-46,22,-25,38,0,38C25,38,46,22,55,0C46,-22,25,-37,0,-37Z"),star:["g",[["path",{d:"M0,-60L18,-24L57,-19L29,9L35,49L0,30L-35,49L-29,9L-57,-19L-18,-24Z","stroke-width":8,fill:1,stroke:0}]]],"tri-down":["g",[["path",{d:"M-30,-30L0,30,30,-30Z",stroke:0,fill:1,"stroke-width":8}]]],"tri-left":["g",[["path",{d:"M30,-30L-30,0,30,30Z",stroke:0,fill:1,"stroke-width":8}]]],"tri-right":["g",[["path",{d:"M-30,-30L30,0,-30,30Z",stroke:0,fill:1,"stroke-width":8}]]],"tri-up":["g",[["path",{d:"M-30,30L0,-30,30,30Z",stroke:0,fill:1,"stroke-width":8}]]],up:l("M-30,30L0,-30,30,30"),"up-double":l("M-30,40L0,10,30,40M-30,-10L0,-40,30,-10"),user:n("M0,-40A20,20,0,0,1,20,-20A20,20,0,0,1,0,0A20,20,0,0,1,-20,-20A20,20,0,0,1,0,-40M0,10C22,10,40,19,40,30V40H-40V30C-40,19,-22,10,0,10Z"),wait:["g",[["path",{d:"M0,40 A40,40,0,1,1,40,0",stroke:0,"stroke-width":40}],["path",{d:"M0,40 A40,40,0,1,1,40,0",stroke:1,"stroke-width":24}]]],"zoom-in":["g",[n("M-12,-45A33,33,0,0,1,20,-12C20,-4,17,3,12,9L14,10H18L43,35L35,43L10,18V14L9,12C3,17,-4,20,-12,20A33,33,0,0,1,-45,-12A33,33,0,0,1,-12,-45M-12,-35C-25,-35,-35,-25,-35,-12C-35,0,-25,10,-12,10C0,10,10,0,10,-12C10,-25,0,-35,-12,-35Z"),n("M-50,42h10v-10h4v10h10v4h-10v10h-4v-10h-10Z")]],"zoom-out":["g",[n("M-12,-45A33,33,0,0,1,20,-12C20,-4,17,3,12,9L14,10H18L43,35L35,43L10,18V14L9,12C3,17,-4,20,-12,20A33,33,0,0,1,-45,-12A33,33,0,0,1,-12,-45M-12,-35C-25,-35,-35,-25,-35,-12C-35,0,-25,10,-12,10C0,10,10,0,10,-12C10,-25,0,-35,-12,-35Z"),n("M-50,42h24v4h-32Z")]]},H.Icons.add=H.Icons.plus,H.Icons.back=H.Icons.left,H.Icons.help=H.Icons.question,H.Icons.save=H.Icons.export,H.draw=l,H.path2=n,H.register=function(t){var e,o;for(e in t)o=t[e],H.Icons[e]=o},e.exports=H,e.exports._=h});
//# sourceMappingURL=wdg.icon.js.map
require("wdg.flex",function(e,t,i){function n(e){var t=r.elem(this,"div","wdg-flex");s.propToggleClass(this,"orientation",l),s.propToggleClass(this,"type",a),s.propArray(this,"content")(function(e){r.clear(t),e.forEach(function(e){r.add(t,e),"undefined"!=typeof e.$grow&&r.css(e,{"flex-grow":parseFloat(e.$grow)}),"undefined"!=typeof e.$shrink&&r.css(e,{"flex-shrink":parseFloat(e.$shrink)})})}),s.propAddClass(this,"wide"),s.propRemoveClass(this,"visible","hide"),e=s.extend({orientation:l[0],type:a[0],content:[],wide:!0,visible:!0},e,this)}var o=function(){function t(){return n(i,arguments)}var i={en:{}},n=e("$").intl;return t.all=i,t}(),r=e("dom"),s=e("tfw.data-binding"),l=["H","V","W","N"],a=["default","fill"];t.exports=n,t.exports._=o});
//# sourceMappingURL=wdg.flex.js.map
